!function(App){function fetchComputedStyle(el,prop,pseudo){return window.getComputedStyle(el,pseudo||null).getPropertyValue(prop)}function calculateAspectRatio(width,height,ar){var ar=ar?ar:"1536:672",arValues=ar.split(":"),arWidth=parseInt(arValues[0]),arHeight=parseInt(arValues[1]);return!width&&height?Math.ceil(height*(arWidth/arHeight)):!height&&width?Math.ceil(width/(arWidth/arHeight)):void 0}function getPrefix(prefixes){var div=document.createElement("div");if("[object Array]"===Object.prototype.toString.call(prefixes)){for(var max=prefixes.length;max--;)if(prefixes[max]in div.style)return prefixes[max]}else for(prefix in prefixes)if(prefix in div.style)return prefixes[prefix];return!1}App=App||{},App.classes={hidden:"is-hidden",active:"is-active",animateIn:"animate-in",animateOut:"animate-out"},App.active=0,App.animating=!1,App.setActive=function(dir){var active,dir=dir||"left";return"left"===dir&&(active=App.active+1<App.slideCount?App.active+1:0,0!==active&&(App.active=active)),"right"===dir&&(active=App.active-1>=0?App.active-1:App.slideCount-1,App.slideCount-1!==active&&(App.active=active)),App.active},App.CSSListeners=function(opts){this._init(opts)},App.CSSListeners.prototype.addEvent=function(el,cb){el.addEventListener(this.prefix,cb,!1)},App.CSSListeners.prototype.removeEvent=function(el,cb){el.removeEventListener(this.prefix,cb,!1)},App.CSSListeners.prototype._init=function(opts){return this.opts=opts,this.type=this.opts.type||"animation",this.prefixes=this.opts.prefixes||{WebkitAnimation:"webkitAnimationEnd",OAnimation:"oanimationend",MsAnimation:"MSAnimationEnd",animation:"animationend"},this.prefix=getPrefix(this.prefixes),this},App.WindowListeners=function(opts){this.opts=opts,this._init()},App.WindowListeners.prototype.addListener=function(cb){"function"==typeof cb&&window.addEventListener(this.listener,cb,!1)},App.WindowListeners.prototype.removeListener=function(cb){"function"==typeof cb&&window.addEventListener(this.listener,cb,!1)},App.WindowListeners.prototype._init=function(){return this.listener="onorientationchange"in window?"orientationchange":"resize",this},App.SwipeControl=function(opts){this.opts=opts,this._init(opts)},App.SwipeControl.prototype.setListeners=function(){var self=this,hasTouch="ontouchstart"in window,startEvent=hasTouch?"touchstart":"mousedown",moveEvent=hasTouch?"touchmove":"mousemove",endEvent=hasTouch?"touchend":"mouseup";this.element.addEventListener(startEvent,function(e){if(e.targetTouches&&1===e.targetTouches.length||"mousedown"===e.type){var eventObj=hasTouch?e.targetTouches[0]:e;self.startTime=Date.now(),self.start=parseInt(eventObj.pageX)}},!1),this.element.addEventListener(moveEvent,function(e){if(self.start&&(e.targetTouches&&1===e.targetTouches.length||"mousemove"===e.type)){var eventObj=hasTouch?e.targetTouches[0]:e;self.currTime=Date.now(),self.currPos=parseInt(eventObj.pageX),self.trackSwipe()}e.preventDefault()},!1),this.element.addEventListener(endEvent,function(e){var eventObj=hasTouch?e.changedTouches[0]:e;self.endTime=Date.now(),self.end=parseInt(eventObj.pageX),self.confirmSwipe()},!1)},App.SwipeControl.prototype.trackSwipe=function(){this.direction=this.start>this.currPos?"left":"right",this.trackDistance="left"===this.direction?this.start-this.currPos:this.currPos-this.start,this.trackingCallback(this.direction,this.trackDistance,this.currPos,this.start,parseInt(this.currTime-this.startTime))},App.SwipeControl.prototype.confirmSwipe=function(){this.direction=this.start>this.end?"left":"right",this.duration=parseInt(this.endTime-this.startTime),this.swipeDistance="left"===this.direction?this.start-this.end:this.end-this.start,this.swipeSuccessCallback(this.direction,this.swipeDistance,this.duration),this._config()},App.SwipeControl.prototype._config=function(){this.start=null,this.end=null,this.trackDistance=null,this.swipeDistance=null,this.currPos=null,this.startTime=null,this.endTime=null,this.currTime=null,this.direction=null,this.duration=null},App.SwipeControl.prototype._init=function(){return this.element=this.opts.element,this.swipeSuccessCallback=this.opts.swipeSuccessCallback||function(dir,dist,time){console.log(dir,dist,time)},this.trackingCallback=this.opts.trackingCallback||function(dir,dist,currPos,time){console.log(dir,dist,currPos,time)},this._config(),this.setListeners(),this},App.GalleryControl=function(opts){this.opts=opts,this._init()},App.GalleryControl.prototype.trackSlides=function(dir,dist,callback){var currPos=-(App.active*this.slideWidth),translateX=parseFloat("left"===dir?currPos-dist:currPos+dist),wrapper=this.wrapper[0];wrapper.style[this.prefix]="translate("+translateX+"px, 0)","function"==typeof callback&&callback()},App.GalleryControl.prototype.animateSlides=function(next,speed){var self=this,next=next||0,speed=speed||!1,max=this.slides.length,wrapper=this.wrapper[0],translateX=next*this.slideWidth,speedPrefix=getPrefix(["transitionDuration","webkitTransitionDuration"]),timeout=speed?(.5-speed).toString().replace(".","").slice(0,4):1;if(!App.animating&&"translate(-"+translateX+"px, 0)"!==wrapper.style[this.prefix]){for(App.animating=!0,this.listener.addEvent(wrapper,function transition(){wrapper.style[speedPrefix]="",self.listener.removeEvent(wrapper,transition),wrapper.classList.remove(App.classes.active),setTimeout(function(){App.animating=!1},parseFloat(timeout))});max--;)this.slides[max].classList.remove(App.classes.active);this.slides[next].classList.add(App.classes.active),wrapper.classList.add(App.classes.active),wrapper.style[this.prefix]="translate(-"+translateX+"px, 0)",speed&&(wrapper.style[speedPrefix]=speed+"s")}},App.GalleryControl.prototype.introduceSlides=function(){var self=this,wrapper=this.wrapper[0];wrapper.classList.add(App.classes.hidden),wrapper.style[this.prefix]="translate("+this.elementWidth+"px, 0)",wrapper.classList.remove(App.classes.hidden),setTimeout(function(){self.animateSlides()},1)},App.GalleryControl.prototype.fixSlideDimensions=function(active){var max=this.slides.length,wrapper=this.wrapper[0];for(this._config(),this.element.style.height=this.slideHeight+"px",wrapper.style.width=this.slideWidth*max+"px",wrapper.style.height=this.slideHeight+"px",wrapper.style.marginLeft=this.elementWidth/2-this.slideWidth/2+"px";max--;){var slide=this.slides[max];slide.style.width=this.slideWidth+"px",slide.style.height=this.slideHeight+"px"}wrapper.style[this.prefix]="translate(-"+active*this.slideWidth+"px, 0)"},App.GalleryControl.prototype._config=function(){this.prefix=getPrefix(["transform","WebkitTransform"]),this.elementWidth=parseInt(fetchComputedStyle(document.body,"width")),this.slideWidth=this.elementWidth>=1024&&"landscape"===fetchComputedStyle(document.body,"content",":before")?640:this.elementWidth,this.slideHeight=parseFloat(calculateAspectRatio(this.slideWidth,null))},App.GalleryControl.prototype._init=function(){return this.element=this.opts.element,this.wrapper=this.element.querySelectorAll(this.opts.wrapper),this.slides=this.element.querySelectorAll(this.opts.slides),this.listener=new App.CSSListeners({type:"transition",prefixes:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",transition:"transitionend"}}),this.fixSlideDimensions(0),this},App.SlideControl=function(opts){this.opts=opts,this._init()},App.SlideControl.prototype.toggleVisibility=function(prev,next){var prevEl=this.slides[prev],nextEl=this.slides[next];prevEl?prevEl.classList.add(App.classes.hidden):null,nextEl?nextEl.classList.remove(App.classes.hidden):null},App.SlideControl.prototype.animateVisibility=function(prev,next){var self=this,prevEl=this.slides[prev],nextEl=this.slides[next];prevEl&&(this.animate?(this.listeners.addEvent(prevEl,function animate(){prevEl.classList.remove(App.classes.animateOut),prevEl.classList.add(App.classes.hidden),nextEl&&(nextEl.classList.remove(App.classes.hidden),nextEl.classList.add(App.classes.animateIn)),self.listeners.removeEvent(prevEl,animate)}),prevEl.classList.remove(App.classes.animateIn),prevEl.classList.add(App.classes.animateOut)):(prevEl.classList.add(App.classes.hidden),nextEl&&nextEl.classList.remove(App.classes.hidden)))},App.SlideControl.prototype.setVisibility=function(){for(var max=this.slides.length;max--;)max>0&&this.slides[max].classList.add(App.classes.hidden)},App.SlideControl.prototype._init=function(){return this.element=this.opts.element,this.slides=this.element.querySelectorAll(this.opts.slides),this.animate=this.opts.animate||!1,this.listeners=new App.CSSListeners({type:"animation",prefixes:{WebkitAnimation:"webkitAnimationEnd",OAnimation:"oanimationend",MsAnimation:"MSAnimationEnd",animation:"animationend"}}),this.setVisibility(),this},App.NavigationControl=function(opts){this.opts=opts,this._init()},App.NavigationControl.prototype.toggleItems=function(prev,next){var prevEl=this.items[prev],nextEl=this.items[next];prevEl&&prevEl.classList.remove(App.classes.active),nextEl&&nextEl.classList.add(App.classes.active)},App.NavigationControl.prototype.buildItems=function(){for(var max=App.slideCount,i=0;max>i;){var item=document.createElement("li");item.classList.add(this.className),1>i&&item.classList.add(App.classes.active),this.element.appendChild(item),this.items.push(item),i++}},App.NavigationControl.prototype._init=function(){return this.element=this.opts.element,this.className=this.opts.className,this.items=[],this.buildItems(),this},App.IconsControl=function(opts){this.opts=opts,this._init()},App.IconsControl.prototype.animatePosition=function(prev,curr,dir){this._config();var prevEl=this.slides[prev]||!1,currEl=this.slides[curr]||!1,nextEl=this.slides["left"===dir?curr+1:curr-1]||!1,prevPrevEl=this.slides["left"===dir?curr-2:curr+2]||!1,nextNextEl=this.slides["left"===dir?curr+2:curr-2]||!1,prefix=getPrefix(["transform","MozTransform","WebkitTransform","msTransform","OTransform"]),left=-(this.slideWidth/2),center=this.elementWidth/2-this.slideWidth/2,right=this.elementWidth-this.slideWidth/2,farLeft=-this.slideWidth,farRight=this.elementWidth+this.slideWidth;prevEl&&(prevEl.classList.remove(App.classes.hidden),prevEl.style[prefix]="translate("+("left"===dir?left:right)+"px, "+this.translateY+"px) scale("+this.scale+")"),currEl&&(currEl.classList.remove(App.classes.hidden),currEl.style[prefix]="translate("+center+"px, 0)"),nextEl&&(nextEl.style[prefix]="translate("+("left"===dir?farRight:farLeft)+"px, "+this.translateY+"px)",nextEl.classList.remove(App.classes.hidden),nextEl.style[prefix]="translate("+("left"===dir?right:left)+"px, "+this.translateY+"px) scale("+this.scale+")"),prevPrevEl&&(prevPrevEl.style[prefix]="translate("+("left"===dir?farLeft:farRight)+"px, "+this.translateY+"px) scale("+this.scale+")",prevPrevEl.classList.remove(App.classes.hidden)),nextNextEl&&(nextNextEl.classList.remove(App.classes.hidden),nextNextEl.style[prefix]="translate("+("left"===dir?farRight:farLeft)+"px, "+this.translateY+"px) scale("+this.scale+")")},App.IconsControl.prototype.setPosition=function(){var firstEl=this.slides[0]||!1,secondEl=this.slides[1]||!1,thirdEl=this.slides[2]||!1,prefix=getPrefix(["transform","MozTransform","WebkitTransform","msTransform","OTransform"]);firstEl&&(firstEl.style[prefix]="translate("+(this.elementWidth/2-this.slideWidth/2)+"px, 0)",firstEl.classList.remove(App.classes.hidden)),secondEl&&(secondEl.style[prefix]="translate("+(this.elementWidth-this.slideWidth/2)+"px, "+this.translateY+"px) scale("+this.scale+")",secondEl.classList.remove(App.classes.hidden)),thirdEl&&(thirdEl.style[prefix]="translate("+(this.elementWidth+this.slideWidth)+"px, "+this.translateY+"px) scale("+this.scale+")",thirdEl.classList.remove(App.classes.hidden))},App.IconsControl.prototype._config=function(){{var max=this.slides.length,windowWidth=parseInt(fetchComputedStyle(document.body,"width",null));fetchComputedStyle(document.body,"content",":before")}for(windowWidth>=320&&(this.translateY="-15"),windowWidth>=768&&(this.translateY="-45"),windowWidth>=1024&&(this.translateY="-30"),this.elementWidth=parseInt(fetchComputedStyle(this.element,"width")),this.slideWidth=parseInt(fetchComputedStyle(this.slides[0],"width")),this.scale="0.5";max--;)this.slides[max].classList.add(App.classes.hidden)},App.IconsControl.prototype._init=function(){return this.element=this.opts.element,this.slides=this.element.querySelectorAll(this.opts.slides),this.listener=new App.CSSListeners({type:"transition",prefixes:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",transition:"transitionend"}}),this.translateY="0",this._config(),this.setPosition(),this},setTimeout(function(){var bannerSplash=document.getElementById("banner-splash"),bannerActiveSplashIcons=document.getElementById("splash-active-icons"),bannerGallery=(document.getElementById("splash-inactive-icons"),document.getElementById("banner-gallery")),bannerIcons=document.getElementById("banner-icons"),bannerText=document.getElementById("banner-text"),bannerNavigation=document.getElementById("banner-navigation"),bannerButtons=document.getElementById("banner-buttons"),windowChange=new App.WindowListeners,bannerTextFn=new App.SlideControl({element:bannerText,slides:".slides-module__slide",animate:!0}),bannerButtonsFn=new App.SlideControl({element:bannerButtons,slides:".slides-module__slide",animate:!1}),bannerGalleryFn=new App.GalleryControl({element:bannerGallery,wrapper:".gallery-module__wrapper",slides:".gallery-module__slide"}),bannerNavigationFn=new App.NavigationControl({element:bannerNavigation,className:"navigation-module__item"}),bannerIconsFn=new App.IconsControl({element:bannerIcons,slides:".icons-module__slide"}),animationend=(new App.SwipeControl({element:document.body,trackingCallback:function(dir,dist){App.animating||bannerGalleryFn.trackSlides(dir,dist,function(){})},swipeSuccessCallback:function(dir,dist,time){if(!App.animating){var width=bannerGalleryFn.slideWidth,offsetDist=1.66*dist,speed=offsetDist/time/10;if(offsetDist>time||dist>width/2){var prev=App.active,next=App.setActive(dir);next!==prev?(bannerGalleryFn.animateSlides(next,offsetDist>time&&dist>width/2?speed:!1),bannerNavigationFn.toggleItems(prev,next),bannerTextFn.animateVisibility(prev,next),bannerButtonsFn.animateVisibility(prev,next),bannerIconsFn.animatePosition(prev,next,dir),swipeTracking(next)):bannerGalleryFn.animateSlides(prev)}else dist>10&&bannerGalleryFn.animateSlides(App.active,null)}}}),new App.CSSListeners({type:"animation",prefixes:{WebkitAnimation:"webkitAnimationEnd",OAnimation:"oanimationend",MsAnimation:"MSAnimationEnd",animation:"animationend"}})),transitionend=new App.CSSListeners({type:"transition",prefixes:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",transition:"transitionend"}}),removeSplashScreen=function(){animationend.addEvent(bannerSplash,function animate(){bannerSplash.classList.remove(App.classes.animateOut),bannerSplash.classList.add(App.classes.hidden),animationend.removeEvent(bannerSplash,animate)}),bannerSplash.classList.add(App.classes.animateOut)},animateSplashIcons=function(){bannerActiveSplashIcons.classList.add(App.classes.animateIn)};transitionend.addEvent(bannerActiveSplashIcons,function transition(){transitionend.removeEvent(bannerActiveSplashIcons,transition),setTimeout(function(){removeSplashScreen(),bannerGalleryFn.introduceSlides()},1e3),bannerActiveSplashIcons.classList.add(App.classes.animateOut)}),animateSplashIcons();var resizeTimer=null;windowChange.addListener(function(){resizeTimer&&clearTimeout(resizeTimer),resizeTimer=setTimeout(function(){bannerGalleryFn.fixSlideDimensions(App.active),bannerIconsFn.animatePosition(App.active-1,App.active,"left")},250)}),clickTracking()},1)}(App);